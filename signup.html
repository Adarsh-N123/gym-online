<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="login.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
    </head>
    <body style="background-image: linear-gradient(to bottom right, rgb(6, 6, 6), rgb(243, 243, 233));background-repeat:no-repeat;background-attachment:fixed;background-position:center;">
        <center ><div id="display1" style="margin-top: 15vh;" id="loader1"><center><h1><span style="color: rgb(15, 176, 230);">Getting Your</span><span>Login Page Ready...</span></h1></center></div></center>
        <center><img id="loader" src="img/hi.gif" style="margin-top: 15vh;width:10vw;"></center>
        <center>
        <div id="display" >
            <center>
                <br>
                <br>
                <br>
                
                <div id="respone" >
                    <h1><span style="color: rgb(40, 128, 222);margin-top: 3vh;">Sign</span> Up</h1>
                    <hr>
                    <input required type="text" placeholder="Username" id="user" style="width:80%;height:6%;margin-top: 15%;border-color: black;border-radius: 0.5rem;border-style:solid;border-width:3px;">
                    <input required type="password" placeholder="Password" id="pass" style="width:80%;height:6%;margin-top: 15%;border-color: black;border-radius: 0.5rem;border-style:solid;border-width:3px;">
                    <br>
                    <br>
                    
                    <button id="signupone" style="width:30%;height:5vw;background-color: blueviolet;border-radius: 00.5rem;">Submit</button>
                <br>
                <br>
                
                <hr>
                
                <h5>Already Had an Account? <span><a href="login.html">SignIn</a></span></h3>
                
                <button id="signup"  style="width: 90%;height:8vh;background-color:white;"><img src="img/logo.png" style="width:4%;margin-left:-10%;margin-right:5%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SignUp with Google</button>
                </div>
            </center>
        </div>
        </center>
        
        
        
          
            
          
          
        
        
        
    </body>
    
    <script type="module">
        var loader = document.getElementById("loader");
            var displayText = document.getElementById("display");
            var displayone = document.getElementById("display1");
            window.addEventListener("load",function(){
                loader.style.display="none";
                displayText.style.display="block";
                displayone.style.display="none";
                
            })

        // Import the functions you need from the SDKs you need
      
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
        import { getAuth, signInWithRedirect ,GoogleAuthProvider, getRedirectResult,signInWithEmailAndPassword,createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-auth.js";
      
        // TODO: Add SDKs for Firebase products that you want to use
      
        // https://firebase.google.com/docs/web/setup#available-libraries
      
      
        // Your web app's Firebase configuration
      
        const firebaseConfig = {
      
          apiKey: "AIzaSyA4nGl6BlOmxbN5-aVRzncscLM5VaHhyKM",
      
          authDomain: "gym-online-a5be6.firebaseapp.com",
      
          projectId: "gym-online-a5be6",
      
          storageBucket: "gym-online-a5be6.appspot.com",
      
          messagingSenderId: "939458942559",
      
          appId: "1:939458942559:web:80ea1c3e3c37919ec4edea"
      
        };
      
      
        // Initialize Firebase
      
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider(app);
        


        document.getElementById("signup").addEventListener('click',(e)=>{
            signInWithRedirect(auth, provider);
            getRedirectResult(auth)
                .then((result) => {
                    // This gives you a Google Access Token. You can use it to access Google APIs.
                    const credential = GoogleAuthProvider.credentialFromResult(result);
                    const token = credential.accessToken;

                    // The signed-in user info.
                    const user = result.user;
                    alert("Successfully Signed Up");
                }).catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.customData.email;
                    // The AuthCredential type that was used.
                    const credential = GoogleAuthProvider.credentialFromError(error);
                    // ...
                });
        })
        
        signupone.addEventListener('click',(e)=>{
            var email = document.getElementById('user').value;
            var password = document.getElementById('pass').value;
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    // Signed in 
                    const user = userCredential.user;
                    alert("Signed up Successfully")
                    // ...
                })
                .catch((error) => {
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    alert("Error:"+errorMessage)
                    // ..
                });
        })
        
      
      </script>
</html>
